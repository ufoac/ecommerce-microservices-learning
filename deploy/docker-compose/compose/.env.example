# ==========================================
# 电商微服务环境变量配置模板
# E-commerce Microservices Environment Variables Template
# ==========================================
#
# 使用方法：
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据需要修改配置值
# 3. 启动服务: make up

# ==================== 环境配置 ====================
# 时区配置（所有容器统一时区）
TIMEZONE=Asia/Shanghai

# 网络配置
NETWORK_SUBNET=172.20.0.0/16

# ==================== 数据库配置 ====================
# MySQL配置
MYSQL_IMAGE=mysql
MYSQL_VERSION=8.0
MYSQL_PORT=3306
MYSQL_ROOT_PASSWORD=root123456
MYSQL_DATABASE=ecommerce
MYSQL_USER=ecommerce
MYSQL_PASSWORD=ecommerce123
MYSQL_CHARSET=utf8mb4
MYSQL_COLLATION=utf8mb4_unicode_ci

# Nacos数据库配置
NACOS_DB_NAME=nacos_config
NACOS_DB_USER=root
NACOS_DB_PASSWORD=root123456

# ==================== 缓存配置 ====================
# Redis配置
REDIS_IMAGE=redis
REDIS_VERSION=7.0-alpine
REDIS_PORT=6379
REDIS_PASSWORD=redis123456
REDIS_DATABASES=16

# ==================== 服务注册发现配置 ====================
# Nacos配置
NACOS_IMAGE=nacos/nacos-server
NACOS_VERSION=v2.5.1
NACOS_SERVER_PORT=8848
NACOS_SERVER_RPC_PORT=9848
NACOS_USERNAME=nacos
NACOS_PASSWORD=nacos123
NACOS_MODE=standalone
NACOS_AUTH_ENABLE=true

# ==================== 消息队列配置 ====================
# RocketMQ配置
ROCKETMQ_IMAGE=apache/rocketmq
ROCKETMQ_VERSION=5.3.2
ROCKETMQ_NAMESRV_PORT=9876
ROCKETMQ_BROKER_PORT1=10909
ROCKETMQ_BROKER_PORT2=10911
ROCKETMQ_CONSOLE_IMAGE=styletang/rocketmq-console-ng
ROCKETMQ_CONSOLE_VERSION=latest
ROCKETMQ_CONSOLE_PORT=8081

# ==================== 分布式事务配置 ====================
# Seata配置
SEATA_IMAGE=seataio/seata-server
SEATA_VERSION=2.0.0
SEATA_SERVER_PORT=7091
SEATA_SERVER_RPC_PORT=8091
SEATA_STORE_MODE=db

# ==================== 微服务端口配置 ====================
# 应用端口配置
GATEWAY_PORT=8080
USER_SERVICE_PORT=8081
PRODUCT_SERVICE_PORT=8082
TRADE_SERVICE_PORT=8083

# ==================== JVM配置 ====================
# 微服务JVM参数配置
GATEWAY_JAVA_OPTS=-Xms512m -Xmx1024m -XX:+UseG1GC
USER_SERVICE_JAVA_OPTS=-Xms512m -Xmx1024m -XX:+UseG1GC
PRODUCT_SERVICE_JAVA_OPTS=-Xms512m -Xmx1536m -XX:+UseG1GC
TRADE_SERVICE_JAVA_OPTS=-Xms512m -Xmx1536m -XX:+UseG1GC

# ==================== 开发环境配置 ====================
# 调试端口配置（仅开发环境使用）
GATEWAY_DEBUG_PORT=5005
USER_SERVICE_DEBUG_PORT=5006
PRODUCT_SERVICE_DEBUG_PORT=5007
TRADE_SERVICE_DEBUG_PORT=5008
MYSQL_DEBUG_PORT=3307

# ==================== 健康检查配置 ====================
# 健康检查间隔配置（秒）
HEALTHCHECK_INTERVAL=30
HEALTHCHECK_TIMEOUT=10
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=60

# ==================== 日志配置 ====================
# 日志级别配置
LOG_LEVEL=INFO
LOG_LEVEL_DEVELOPMENT=DEBUG

# ==================== 资源限制配置 ====================
# 容器资源限制（生产环境）
MEMORY_LIMIT_INFRASTRUCTURE=1g
MEMORY_LIMIT_APPLICATIONS=2g
CPU_LIMIT_INFRASTRUCTURE=1.0
CPU_LIMIT_APPLICATIONS=2.0