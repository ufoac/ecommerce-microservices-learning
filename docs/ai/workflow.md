# AI 工作流程指南

## 项目任务分类

### 简单任务（1-3步骤）
**特征**：查询信息、配置调整、小bug修复

**处理方式**：
- 直接执行，无需规划
- 选择最直接的工具
- 快速反馈结果

**示例**：查看文件内容、修改配置参数、查询项目状态

### 中等任务（4-8步骤）
**特征**：单个功能实现、多文件修改

**处理方式**：
- 简单规划，明确目标
- 适度跟踪关键步骤
- 灵活调整执行顺序

**示例**：实现单个API接口、添加基础业务功能、数据库表结构修改

### 复杂任务（8+步骤）
**特征**：模块开发、架构调整

**处理方式**：
- 适当规划，分阶段执行
- 定期检查和调整
- 重点关注核心功能

**示例**：完整微服务实现、认证授权系统、复杂业务流程

## 项目工作流程

### 开发任务流程
```
1. 需求分析 → 理解要实现的功能
2. 简单设计 → 明确实现思路
3. 代码实现 → 参考约束规范
4. 功能验证 → 确保基本功能正确
5. 简单测试 → 验证主要场景
6. 文档更新 → 同步相关文档
```

### 问题修复流程
```
1. 问题定位 → 分析错误信息
2. 原因分析 → 找出问题根源
3. 解决方案 → 设计修复方法
4. 实施修复 → 修改相关代码
5. 验证测试 → 确保问题解决
```

### 任务启动流程
```
1. 理解需求 → 查阅项目文档
2. 评估复杂度 → 选择处理方式
3. 确定目标 → 明确要实现什么
4. 开始执行 → 按实际情况推进
```

## 项目开发模式

### 核心理念
- **理解优先**：重点是理解架构和设计原理，不是追求完美实现
- **功能优先**：先确保功能正确，再考虑性能优化
- **渐进式学习**：从简单实现开始，逐步深入复杂概念
- **避免过度工程化**：保持简单实用，符合学习项目定位

### 新功能开发三阶段

#### 第一阶段：基础实现（必须）
- 理解业务需求和功能目标
- 设计基本的REST API接口
- 实现核心业务逻辑（最简版本）
- 确保基本功能可以工作

#### 第二阶段：逐步完善（建议）
- 添加输入参数验证
- 完善基础错误处理机制
- 优化明显的数据库查询问题
- 添加必要的业务日志

#### 第三阶段：深入实践（可选）
- 添加基础缓存机制
- 实现简单的异步处理
- 基础性能优化
- 补充核心功能测试

### 问题修复模式

#### 修复流程
1. **问题复现**：获取详细错误信息和复现步骤
2. **根因分析**：分析问题产生的根本原因
3. **最小修复**：设计最简单的解决方案
4. **实施验证**：确保问题解决且不引入新问题
5. **经验总结**：记录问题原因和解决方法

#### 修复原则
- **最小化修改**：只修改必要的代码
- **理解根源**：搞清楚问题的根本原因
- **学习导向**：从修复中学习相关知识
- **防止再犯**：思考如何避免类似问题

### 服务间协作模式

#### Feign调用原则
- 先实现基础的同步调用
- 添加必要的错误处理和超时配置
- 异常情况下的降级处理
- 避免复杂的分布式事务（学习阶段）

#### 数据一致性
- 先实现基础的数据校验
- 简单的补偿事务机制
- 避免过度复杂的一致性方案

## 项目决策原则

### 复杂度选择
- **选择简化实现**：当有多种实现方式时，选择最简单易懂的
- **延迟优化**：性能优化可以在功能稳定后再考虑
- **标准方案优先**：使用Spring Boot的标准方案，不要过度定制

### 功能范围控制
- **核心功能优先**：确保主要业务流程正确
- **边缘功能简化**：异常情况和边界条件可以简单处理
- **用户体验适度**：学习项目不需要完美的用户体验

### 开发优先级

#### 高优先级
- 核心业务功能实现
- 基础的错误处理
- 必要的数据验证

#### 中优先级
- 业务日志完善
- 基础性能优化
- 异常场景处理

#### 低优先级
- 高级功能特性
- 复杂的性能调优
- 完善的测试覆盖

## 项目质量标准

### 代码质量检查（基本要求）
- 符合项目编码规范
- 功能实现正确
- 包含基本错误处理
- 添加必要的注释
- 遵循DDD分层架构

### 功能验证检查（必须完成）
- 核心功能正常工作
- 基本异常情况处理
- API响应格式正确（统一格式）
- 数据操作符合预期

### 项目特有检查点
- Common模块没有Web依赖
- 微服务边界清晰
- 包命名规范正确
- 业务逻辑在合适层次

### 错误处理原则

#### 异常分类
- **业务异常**：明确的错误码和错误信息
- **系统异常**：统一的错误处理和日志记录
- **参数异常**：基础的输入验证

#### 错误响应格式
统一使用项目定义的标准响应格式，包含错误码、错误信息和时间戳。

## 环境问题处理

### 常见环境问题
- **Docker问题**：检查容器状态和网络配置
- **依赖问题**：检查Maven依赖和版本
- **配置问题**：检查配置文件和环境变量

### 问题解决原则
- 先检查troubleshooting.md中的项目特定信息
- 使用项目标准的解决方案
- 记录问题原因和解决方法

## 工具使用原则

### 工具选择
- 效率优先：选择最能快速解决问题的工具
- 项目适配：优先使用项目已配置的工具和脚本

### 并行处理
- 独立操作：尽可能并行执行无依赖的任务
- 依赖处理：串行执行有依赖关系的任务

---

**文档定位**：AI工作流程指南，提供项目特有的任务处理方式、开发模式和质量标准
**使用原则**：处理项目任务时，参考这里的项目特定工作方法、开发决策原则和验证标准
**核心价值**：确保AI的工作方式符合项目特点和学习目标，实现功能优先、理解优先的开发理念